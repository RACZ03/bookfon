<div class="content w-100 bg-transparent">
  <div class="card p-2 rounded-3 border-0">
    <div class="table-responsive">
      <table class="table" style="width:100%" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
        <thead>
          <tr>
            <th></th>
            <th>Full name</th>
            <th>Phone</th>
            <th>Status</th>
            <th>Last login</th>
            <th class="d-flex justify-content-center">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of staff">
            <td class="align-middle">
              <img src="assets/images/bookfons/user-found-1.png" class="avatar" alt="">
            </td>
            <td class="align-middle">
              <label for="">{{item?.fullName}}</label>
            </td>
            <td class="align-middle">
              <label for="">{{item?.phone? (item.phone | mask: '(000) 000-0000' ):'unknown' }}</label>
            </td>
            <td class="align-middle">
              <button *ngIf="item.lastLogin" class="btn btn-link m-1"><i class="bi bi-check-circle-fill bg-icon-danger"></i></button>
              <button *ngIf="!item.lastLogin"  class="btn btn-link m-1"><i class="bi bi-check-circle-fill bg-icon-success"></i></button>
            </td>
            <td class="align-middle">
              <label for="">{{ item?.lastLogin? (item.lastLogin | date: 'd/M/yyyy'): 'unknown'}}</label>
            </td>
            <td class="d-flex justify-content-center">
              <button (click)="editStaff(item)" class="btn btn-link m-1"><i
                  class="bi bi-pencil-square"></i></button>
              <div class="form-check form-switch">
                <input (change)="openModalChangeStatus(item.id)" class="form-check-input mt-3" type="checkbox" id="flexSwitchCheckDefault">
              </div>
              <button (click)="openModalChangePass(item.id)" class="btn btn-link m-1"><i class="bi bi-key-fill"></i></button>
              <button (click)="openModalDeleteRecord(item.id)" class="btn btn-link m-1"><i class="bi bi-x-circle-fill"></i></button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- modal confirm change status staff -->
<div class="modal fade" id="confirmChangeStatusModal" data-bs-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <app-modal-delete [btnYes]="'Disable'" [message]="'Do you really want to disable this record? This process cannot be undone'" (delete)="confirmChangeStatusOnDelete($event)"></app-modal-delete> 
</div>

<!-- modal delete record -->
<div class="modal fade" id="deleteRecordConfirmModal" data-bs-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <app-modal-delete (delete)="confirmDeleteRecord($event)"></app-modal-delete> 
</div>

<!-- Change Password -->
<div class="modal fade" id="modalChangePassCustomers" data-bs-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <app-change-password [setId]="idSelected" (changePass)="closeModalChangePass($event)"></app-change-password>
</div>
<!-- End Change Password -->
